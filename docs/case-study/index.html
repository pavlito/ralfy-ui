<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Ralfy-UI: Design System Case Study</title>

  <!-- OG meta tags for link previews -->
  <meta property="og:title" content="Ralfy-UI: Design System Case Study">
  <meta property="og:description" content="A 2-day AI-assisted sprint: from inconsistent UI to a token-driven design system with a complete Figma-to-production pipeline.">
  <meta property="og:type" content="article">
  <meta name="description" content="A 2-day AI-assisted sprint: from inconsistent UI to a token-driven design system with a complete Figma-to-production pipeline.">

  <!-- Favicon -->
  <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>R</text></svg>">

  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&amp;family=JetBrains+Mono:wght@400;500&amp;display=swap" rel="stylesheet">

  <!-- Prism.js syntax highlighting (Tomorrow Night theme) -->
  <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css" rel="stylesheet">

  <style>
    /* Reset */
    *, *::before, *::after { box-sizing: border-box; }
    body { margin: 0; }

    /* Base */
    body {
      font-family: 'Inter', system-ui, -apple-system, sans-serif;
      background: #fafafa;
      color: #18181b;
      line-height: 1.7;
      font-size: 18px;
      -webkit-font-smoothing: antialiased;
    }

    /* Layout */
    .container {
      max-width: 720px;
      margin: 0 auto;
      padding: 48px 24px 96px;
    }

    /* Typography */
    h1 {
      font-size: 36px;
      font-weight: 700;
      letter-spacing: -0.02em;
      line-height: 1.2;
      margin: 0 0 8px;
      color: #09090b;
    }
    h2 {
      font-size: 24px;
      font-weight: 600;
      margin: 64px 0 16px;
      padding-bottom: 12px;
      border-bottom: 1px solid #e4e4e7;
      color: #09090b;
    }
    h3 {
      font-size: 20px;
      font-weight: 600;
      margin: 32px 0 12px;
      color: #18181b;
    }
    p { margin: 0 0 24px; }
    a { color: #2563eb; text-decoration: none; }
    a:hover { text-decoration: underline; }
    strong { font-weight: 600; }

    /* Inline code */
    code {
      font-family: 'JetBrains Mono', monospace;
      font-size: 0.78em;
      background: #f4f4f5;
      padding: 2px 6px;
      border-radius: 4px;
    }

    /* Code blocks (Prism overrides) */
    pre {
      margin: 0 0 24px;
      border-radius: 8px;
      overflow-x: auto;
    }
    pre code {
      background: none;
      padding: 0;
      border-radius: 0;
      font-size: 13px !important;
      line-height: 1.5;
    }

    /* Tables */
    table {
      width: 100%;
      border-collapse: collapse;
      font-size: 15px;
      margin: 0 0 24px;
    }
    th {
      text-align: left;
      padding: 12px 16px;
      border-bottom: 2px solid #e4e4e7;
      font-weight: 600;
      font-size: 13px;
      text-transform: uppercase;
      letter-spacing: 0.05em;
      color: #71717a;
    }
    td {
      padding: 12px 16px;
      border-bottom: 1px solid #f4f4f5;
      vertical-align: top;
    }
    td code {
      font-size: 0.8em;
      padding: 1px 5px;
    }

    /* Dividers */
    hr {
      border: none;
      height: 1px;
      background: #e4e4e7;
      margin: 48px 0;
    }

    /* Lists */
    ol, ul {
      margin: 0 0 24px;
      padding-left: 24px;
    }
    li {
      margin-bottom: 12px;
    }

    /* Hero */
    .hero {
      padding: 80px 0 48px;
    }
    .hero .subtitle {
      color: #71717a;
      font-size: 20px;
      line-height: 1.6;
      margin-bottom: 24px;
    }
    .hero .links {
      display: flex;
      gap: 12px;
    }
    .hero .links a {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      flex: 1;
      border-radius: 10px;
      padding: 12px 24px;
      font-size: 15px;
      font-weight: 600;
      transition: opacity 0.15s;
      text-decoration: none;
    }
    .hero .links a:first-child {
      background: #18181b;
      color: #fff;
    }
    .hero .links a:first-child:hover {
      opacity: 0.85;
    }
    .hero .links a:last-child {
      background: #fff;
      color: #18181b;
      border: 1px solid #a1a1aa;
    }
    .hero .links a:last-child:hover {
      border-color: #52525b;
      background: #f4f4f5;
    }

    /* Metadata strip */
    .metadata {
      display: flex;
      flex-wrap: wrap;
      gap: 24px;
      margin: 24px 0;
      padding: 16px 0;
      border-top: 1px solid #e4e4e7;
      border-bottom: 1px solid #e4e4e7;
      font-size: 14px;
    }
    .metadata .meta-item {
      display: flex;
      flex-direction: column;
      gap: 4px;
    }
    .metadata .meta-label {
      font-weight: 600;
      text-transform: uppercase;
      letter-spacing: 0.05em;
      font-size: 11px;
      color: #a1a1aa;
    }
    .metadata .meta-value {
      color: #18181b;
      font-weight: 500;
    }

    /* Pipeline diagram */
    .pipeline {
      background: #18181b;
      color: #a1a1aa;
      padding: 32px;
      border-radius: 12px;
      font-family: 'JetBrains Mono', monospace;
      font-size: 14px;
      line-height: 2;
      margin: 0 0 24px;
      overflow-x: auto;
    }
    .pipeline .step {
      color: #e4e4e7;
    }
    .pipeline .arrow {
      color: #52525b;
    }
    .pipeline .label {
      color: #71717a;
      font-style: italic;
    }
    .pipeline .highlight {
      color: #60a5fa;
    }

    /* Callout */
    .callout {
      background: #eff6ff;
      border-left: 3px solid #2563eb;
      padding: 16px 20px;
      border-radius: 0 8px 8px 0;
      margin: 24px 0;
      font-size: 16px;
      color: #1e3a5f;
    }
    .callout p { margin: 0; }

    /* Media placeholders */
    .media-placeholder {
      background: #f4f4f5;
      border: 2px dashed #d4d4d8;
      border-radius: 12px;
      padding: 48px 24px;
      text-align: center;
      margin: 24px 0;
      color: #71717a;
      font-size: 15px;
    }
    .media-placeholder .label {
      font-weight: 600;
      color: #52525b;
      margin-bottom: 4px;
    }
    .media-placeholder .hint {
      font-size: 13px;
      color: #a1a1aa;
    }
    .media-placeholder.video::before {
      content: "\25B6";
      display: block;
      font-size: 28px;
      color: #a1a1aa;
      margin-bottom: 8px;
    }
    .media-placeholder .type-tag {
      display: inline-block;
      font-size: 11px;
      font-weight: 600;
      text-transform: uppercase;
      letter-spacing: 0.05em;
      padding: 2px 8px;
      border-radius: 4px;
      margin-bottom: 8px;
    }
    .media-placeholder.video .type-tag {
      background: #dbeafe;
      color: #1d4ed8;
    }
    .media-placeholder.screenshot .type-tag {
      background: #f0fdf4;
      color: #15803d;
    }

    /* CTA section */
    .cta {
      background: #f4f4f5;
      border-radius: 12px;
      padding: 32px;
      text-align: center;
      margin: 48px 0 0;
    }
    .cta h3 {
      margin: 0 0 8px;
      font-size: 20px;
    }
    .cta p {
      margin: 0 0 16px;
      color: #52525b;
    }
    .cta .cta-links {
      display: flex;
      justify-content: center;
      gap: 12px;
      flex-wrap: wrap;
    }
    .cta .cta-links a {
      display: inline-flex;
      align-items: center;
      border: 1px solid #e4e4e7;
      border-radius: 999px;
      padding: 8px 20px;
      font-size: 14px;
      font-weight: 500;
      color: #18181b;
      background: #fff;
      transition: border-color 0.15s, background 0.15s;
    }
    .cta .cta-links a:hover {
      border-color: #a1a1aa;
      text-decoration: none;
    }

    /* Responsive */
    @media (max-width: 640px) {
      body { font-size: 16px; }
      h1 { font-size: 28px; }
      h2 { font-size: 22px; margin-top: 48px; }
      .hero { padding-top: 48px; }
      .hero .subtitle { font-size: 17px; }
      .container { padding: 32px 16px 64px; }
      table { font-size: 13px; }
      th, td { padding: 8px 12px; }
      .pipeline { padding: 20px; font-size: 12px; }
      .metadata { gap: 16px; }
    }
  </style>
</head>
<body>
  <main class="container">

    <!-- 1. Hero -->
    <header class="hero">

      <h1>One Token Change Updates Everything</h1>
      <p class="subtitle">
        A design system with custom AI workflows. From Figma tokens to production components.
      </p>

      <!-- Pipeline cards + App preview hero -->
      <div style="background:#09090b;border-radius:12px;overflow:hidden;margin-bottom:32px;border:1px solid #27272a;padding:14px;">
        <div style="display:grid;grid-template-columns:repeat(4,1fr);gap:8px;align-items:stretch;">
          <div style="background:#18181b;border:1px solid #27272a;border-radius:8px;padding:12px 10px;">
            <div style="display:flex;align-items:center;gap:6px;margin-bottom:8px;">
              <svg width="14" height="14" viewBox="0 0 38 57" fill="none"><path d="M19 28.5a9.5 9.5 0 1 1 19 0 9.5 9.5 0 0 1-19 0z" fill="#1ABCFE"/><path d="M0 47.5A9.5 9.5 0 0 1 9.5 38H19v9.5a9.5 9.5 0 0 1-19 0z" fill="#0ACF83"/><path d="M19 0v19h9.5a9.5 9.5 0 0 0 0-19H19z" fill="#FF7262"/><path d="M0 9.5A9.5 9.5 0 0 0 9.5 19H19V0H9.5A9.5 9.5 0 0 0 0 9.5z" fill="#F24E1E"/><path d="M0 28.5A9.5 9.5 0 0 0 9.5 38H19V19H9.5A9.5 9.5 0 0 0 0 28.5z" fill="#A259FF"/></svg>
              <span style="font-size:11px;font-weight:600;color:#e4e4e7;">Figma</span>
            </div>
            <div style="font-size:9px;color:#71717a;line-height:1.4;margin-bottom:8px;">Design token defined</div>
            <div style="display:flex;align-items:center;gap:6px;">
              <div class="p-bg" style="width:16px;height:16px;border-radius:4px;background:#2563eb;transition:background 0.4s;flex-shrink:0;"></div>
              <div style="font-family:'JetBrains Mono',monospace;font-size:8px;color:#71717a;white-space:nowrap;">Primary/default</div>
            </div>
          </div>
          <div style="background:#18181b;border:1px solid #27272a;border-radius:8px;padding:12px 10px;">
            <div style="display:flex;align-items:center;gap:6px;margin-bottom:8px;">
              <svg width="14" height="14" viewBox="-11.5 -10.232 23 20.463" fill="none"><circle r="2.05" fill="#61DAFB"/><g stroke="#61DAFB" stroke-width="1" fill="none"><ellipse rx="11" ry="4.2"/><ellipse rx="11" ry="4.2" transform="rotate(60)"/><ellipse rx="11" ry="4.2" transform="rotate(120)"/></g></svg>
              <span style="font-size:11px;font-weight:600;color:#e4e4e7;">React</span>
            </div>
            <div style="font-size:9px;color:#71717a;line-height:1.4;margin-bottom:8px;">Component consumes token</div>
            <div style="font-family:'JetBrains Mono',monospace;font-size:8px;background:#111;border-radius:4px;padding:5px 7px;color:#a1a1aa;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;">
              <span style="color:#52525b;">className=</span>"<span class="p-text" style="transition:color 0.4s;">bg-primary</span>"
            </div>
          </div>
          <div style="background:#18181b;border:1px solid #27272a;border-radius:8px;padding:12px 10px;">
            <div style="display:flex;align-items:center;gap:6px;margin-bottom:8px;">
              <img src="storybook-icon.png" height="14" alt="Storybook" style="display:block;">
              <span style="font-size:11px;font-weight:600;color:#e4e4e7;">Storybook</span>
            </div>
            <div style="font-size:9px;color:#71717a;line-height:1.4;margin-bottom:8px;">Visual verification</div>
            <div style="display:flex;gap:4px;">
              <button class="p-bg" style="border:none;background:#2563eb;color:#fff;font-size:8px;font-weight:600;padding:4px 10px;border-radius:4px;font-family:'Inter',system-ui,sans-serif;cursor:pointer;transition:background 0.4s;">Reply</button>
              <button style="border:1px solid #27272a;background:transparent;color:#52525b;font-size:8px;padding:4px 10px;border-radius:4px;font-family:'Inter',system-ui,sans-serif;cursor:pointer;">Draft</button>
            </div>
          </div>
          <div style="background:#18181b;border:1px solid #27272a;border-radius:8px;padding:12px 10px;">
            <div style="display:flex;align-items:center;gap:6px;margin-bottom:8px;">
              <svg width="14" height="14" viewBox="0 0 256 256" fill="none"><path d="M0 256V0h256v256z" fill="#C12127"/><path d="M48 48h160v160h-32V80h-32v128H48z" fill="#fff"/></svg>
              <span style="font-size:11px;font-weight:600;color:#e4e4e7;">npm</span>
            </div>
            <div style="font-size:9px;color:#71717a;line-height:1.4;margin-bottom:8px;">Published package</div>
            <div style="font-family:'JetBrains Mono',monospace;font-size:8px;background:#111;border-radius:4px;padding:5px 7px;color:#52525b;white-space:nowrap;">
              import { <span style="color:#a1a1aa;">Button</span> }<br>from '<span style="color:#a1a1aa;">ralfy-ui</span>'
            </div>
          </div>
        </div>
        <div style="margin-top:8px;background:#111;border:1px solid #27272a;border-radius:8px;overflow:hidden;">
          <div style="padding:6px 12px;border-bottom:1px solid #1a1a1a;display:flex;align-items:center;gap:5px;">
            <div style="width:5px;height:5px;background:#ff5f57;border-radius:50%;"></div>
            <div style="width:5px;height:5px;background:#febc2e;border-radius:50%;"></div>
            <div style="width:5px;height:5px;background:#28c840;border-radius:50%;"></div>
            <span style="font-size:8px;color:#3f3f46;margin-left:6px;font-family:'JetBrains Mono',monospace;">ralfy-app.vercel.app</span>
          </div>
          <div style="display:grid;grid-template-columns:130px 1fr;min-height:170px;">
            <div style="border-right:1px solid #1a1a1a;padding:10px 8px;display:flex;flex-direction:column;gap:1px;">
              <div style="font-size:7px;color:#3f3f46;font-weight:600;letter-spacing:0.05em;padding:3px 8px;margin-bottom:3px;">WORKSPACE</div>
              <div style="padding:3px 8px;color:#52525b;font-size:9px;border-radius:4px;">Dashboard</div>
              <div class="p-bg" style="padding:3px 8px;color:#fff;font-size:9px;border-radius:4px;font-weight:500;background:#2563eb;transition:background 0.4s;">My Posts</div>
              <div style="padding:3px 8px;color:#52525b;font-size:9px;border-radius:4px;">Activity</div>
              <div style="padding:3px 8px;color:#52525b;font-size:9px;border-radius:4px;">Settings</div>
            </div>
            <div style="padding:10px 16px;">
              <div style="display:flex;gap:0;border-bottom:1px solid #1a1a1a;margin-bottom:12px;">
                <div class="p-border" style="color:#e4e4e7;font-size:9px;font-weight:500;padding:4px 10px;border-bottom:2px solid #2563eb;transition:border-color 0.4s;">Needs Reply</div>
                <div style="color:#3f3f46;font-size:9px;padding:4px 10px;">All</div>
                <div style="color:#3f3f46;font-size:9px;padding:4px 10px;">Drafts</div>
              </div>
              <div style="display:flex;flex-direction:column;gap:8px;">
                <div style="display:flex;align-items:center;justify-content:space-between;padding:8px 10px;background:#18181b;border-radius:6px;border:1px solid #1a1a1a;">
                  <div>
                    <div style="font-size:9px;color:#e4e4e7;font-weight:500;">New comment on your post</div>
                    <div style="font-size:7px;color:#52525b;margin-top:2px;">Alex mentioned you in "Design Systems at Scale"</div>
                  </div>
                  <button class="p-bg" style="border:none;background:#2563eb;color:#fff;font-size:8px;font-weight:600;padding:4px 10px;border-radius:4px;font-family:'Inter',system-ui,sans-serif;cursor:pointer;transition:background 0.4s;flex-shrink:0;margin-left:8px;">Reply</button>
                </div>
                <div style="display:flex;align-items:center;justify-content:space-between;padding:8px 10px;background:#18181b;border-radius:6px;border:1px solid #1a1a1a;">
                  <div>
                    <div style="font-size:9px;color:#e4e4e7;font-weight:500;">Sarah liked your draft</div>
                    <div style="font-size:7px;color:#52525b;margin-top:2px;">Your post "Token Pipeline" got a reaction</div>
                  </div>
                  <button style="border:1px solid #27272a;background:transparent;color:#52525b;font-size:8px;padding:4px 10px;border-radius:4px;font-family:'Inter',system-ui,sans-serif;cursor:pointer;flex-shrink:0;margin-left:8px;">View</button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <script>
        (function() {
          const colors = ['#2563eb','#9333ea','#059669','#e11d48'];
          let i = 0;
          const pBgs = document.querySelectorAll('.p-bg');
          const pTexts = document.querySelectorAll('.p-text');
          const pBorders = document.querySelectorAll('.p-border');
          function cycle() {
            const c = colors[i];
            pBgs.forEach((el, idx) => { setTimeout(() => { el.style.background = c; }, idx * 300); });
            pTexts.forEach((el, idx) => { setTimeout(() => { el.style.color = c; }, idx * 300); });
            pBorders.forEach((el) => { setTimeout(() => { el.style.borderColor = c; }, 900); });
            i = (i + 1) % colors.length;
          }
          cycle();
          setInterval(cycle, 3000);
        })();
      </script>


      <div class="metadata">
        <div class="meta-item">
          <span class="meta-label">Role</span>
          <span class="meta-value">Design Engineer</span>
        </div>
        <div class="meta-item">
          <span class="meta-label">Timeline</span>
          <span class="meta-value">2 days</span>
        </div>
        <div class="meta-item">
          <span class="meta-label">Tools</span>
          <span class="meta-value">Figma, Style Dictionary, Tailwind v4, Storybook</span>
        </div>
        <div class="meta-item">
          <span class="meta-label">AI</span>
          <span class="meta-value">Claude Code</span>
        </div>
      </div>

      <div class="links">
        <a href="https://6999e35613453c9b648d640e-mgxwocxwlb.chromatic.com/" target="_blank" rel="noopener noreferrer"><img src="storybook-icon.png" height="16" alt="Storybook" style="vertical-align:-2px;margin-right:6px;">Live Storybook</a>
        <a href="https://github.com/pavlito/ralfy-ui" target="_blank" rel="noopener noreferrer"><img src="github-icon.svg" width="16" height="16" alt="GitHub" style="vertical-align:-2px;margin-right:6px;">Source Code</a>
      </div>

    </header>

    <article>

    <!-- 2. Context -->
    <h2>Context</h2>

    <p>
      <strong>Ralfy</strong> is a LinkedIn feed management tool I built over the past two months.
      Custom feeds, AI comments, reply drafts. I handle design, code, and product on my own.
    </p>

    <p>
      I built the whole thing with AI. Frontend, backend, database, deployment.
      Claude wrote most of the code while I focused on product decisions and design direction.
      Speed was the priority, so there was no design system, no shared tokens, no component library.
    </p>

    <video src="ralfy-app.mp4" autoplay loop muted playsinline style="width:100%;border-radius:12px;margin:24px 0;"></video>

    <p>
      The app also has a Chrome extension that surfaces LinkedIn content alongside the main dashboard.
    </p>

    <video src="ralfy-linkedin.mp4" autoplay loop muted playsinline style="width:100%;border-radius:12px;margin:24px 0;"></video>

    <!-- 3. The Problem -->
    <h2>The Problem</h2>

    <p>
      The UI got inconsistent. Components were built one-off with hardcoded colors.
      Spacing varied across pages. Nothing shared, nothing reusable.
    </p>

    <p>
      There was <strong>no single source of truth</strong>. Some colors were hardcoded oklch values.
      Others used CSS variables but duplicated under different names for the same role.
      Changing the primary color meant searching the codebase and hoping I found every instance.
      Some of this is still being cleaned up.
    </p>

    <!-- 4 buttons in 2x2 grid — same actions, different styles -->
    <div style="display:grid;grid-template-columns:1fr 1fr;gap:12px;margin:24px 0;">
      <div style="display:flex;flex-direction:column;align-items:center;gap:6px;">
        <div style="font-size:10px;font-family:'JetBrains Mono',monospace;color:#a1a1aa;">DraftCard.tsx</div>
        <div style="display:flex;height:80px;width:100%;align-items:center;justify-content:center;background:#09090b;border:1px solid #27272a;border-radius:10px;">
          <button style="background:#18181b;color:#fafafa;font-size:13px;font-weight:600;padding:10px 24px;border-radius:8px;border:none;font-family:'Inter',system-ui,sans-serif;cursor:pointer;">Approve</button>
        </div>
      </div>
      <div style="display:flex;flex-direction:column;align-items:center;gap:6px;">
        <div style="font-size:10px;font-family:'JetBrains Mono',monospace;color:#a1a1aa;">ProfileTab.tsx</div>
        <div style="display:flex;height:80px;width:100%;align-items:center;justify-content:center;background:#09090b;border:1px solid #27272a;border-radius:10px;">
          <button style="background:transparent;color:#a1a1aa;font-size:11px;font-weight:500;padding:6px 14px;border-radius:4px;border:1px solid #27272a;font-family:'Inter',system-ui,sans-serif;cursor:pointer;">Sync Profile</button>
        </div>
      </div>
      <div style="display:flex;flex-direction:column;align-items:center;gap:6px;">
        <div style="font-size:10px;font-family:'JetBrains Mono',monospace;color:#a1a1aa;">DeleteDialog.tsx</div>
        <div style="display:flex;height:80px;width:100%;align-items:center;justify-content:center;background:#09090b;border:1px solid #27272a;border-radius:10px;">
          <button style="background:#b91c1c;color:#fff;font-size:11px;font-weight:700;padding:8px 18px;border-radius:6px;border:none;font-family:'Inter',system-ui,sans-serif;cursor:pointer;text-transform:uppercase;letter-spacing:0.04em;">Delete User</button>
        </div>
      </div>
      <div style="display:flex;flex-direction:column;align-items:center;gap:6px;">
        <div style="font-size:10px;font-family:'JetBrains Mono',monospace;color:#a1a1aa;">CommentItem.tsx</div>
        <div style="display:flex;height:80px;width:100%;align-items:center;justify-content:center;background:#09090b;border:1px solid #27272a;border-radius:10px;">
          <button style="background:oklch(0.21 0.006 286);color:#e4e4e7;font-size:12px;font-weight:500;padding:7px 20px;border-radius:9999px;border:none;font-family:'Inter',system-ui,sans-serif;cursor:pointer;">Reply</button>
        </div>
      </div>
    </div>

    <img src="theme-before.png" alt="CSS theme file with hardcoded oklch values, mixed hex colors, and annotated inconsistencies" style="width:100%;border-radius:12px;margin:24px 0;">

    <p>
      I needed guardrails. Not just components, but a <strong>system that prevents this drift</strong>
      from happening again. So I gave myself a challenge. Build the full pipeline in 2 days with AI.
    </p>

    <!-- 4. Approach -->
    <div style="background:#181836;padding:48px 24px;margin-left:calc(50% - 50vw);margin-right:calc(50% - 50vw);margin-bottom:24px;width:100vw;">
    <div style="max-width:720px;margin:0 auto;color:#e4e4e7;">
    <h2 style="color:#fafafa;border-bottom-color:#27272a;">Approach</h2>

    <p>
      The goal was a complete workflow from Figma to production. Not just components.
      The pipeline that keeps everything in sync. Change a token in Figma and the
      production app reflects it. No component code touched.
    </p>
    </div>
    <svg viewBox="0 0 720 1500" xmlns="http://www.w3.org/2000/svg" style="width:100%;max-width:720px;margin:0 auto;display:block;">
      <style>
        .d-box{fill:#1e1b4b;stroke:#312e81;stroke-width:1;rx:12;ry:12}
        .d-key{fill:#FF4785;rx:12;ry:12}
        .d-pill{fill:#e8dcc8;stroke:#c4b498;stroke-width:1;rx:14;ry:14}
        .d-title{fill:#e4e4e7;font-family:'Inter',system-ui,sans-serif;font-size:14px;font-weight:600;text-anchor:middle;dominant-baseline:central}
        .d-title-lg{fill:#ffffff;font-family:'Inter',system-ui,sans-serif;font-size:17px;font-weight:700;text-anchor:middle;dominant-baseline:central}
        .d-sub{fill:#a1a1aa;font-family:'Inter',system-ui,sans-serif;font-size:12px;text-anchor:middle;dominant-baseline:central}
        .d-sub-key{fill:rgba(255,255,255,0.85);font-family:'Inter',system-ui,sans-serif;font-size:12px;text-anchor:middle;dominant-baseline:central}
        .d-pill-text{fill:#3f3f46;font-family:'JetBrains Mono',monospace;font-size:12px;text-anchor:middle;dominant-baseline:central}
        .d-arrow{stroke:#312e81;stroke-width:1.5;fill:none;marker-end:url(#ah)}
      </style>
      <defs>
        <marker id="ah" markerWidth="8" markerHeight="6" refX="8" refY="3" orient="auto">
          <polygon points="0 0, 8 3, 0 6" fill="#312e81"/>
        </marker>
      </defs>

      <!-- 1. Figma Design System (KEY) -->
      <rect class="d-key" x="170" y="20" width="380" height="72"/>
      <text class="d-title-lg" x="360" y="48">Figma Design System</text>
      <text class="d-sub-key" x="360" y="72">Colors, typography, spacing, components</text>

      <!-- Arrow -->
      <line class="d-arrow" x1="360" y1="92" x2="360" y2="156"/>

      <!-- 2. Tokens Studio -->
      <rect class="d-box" x="210" y="156" width="300" height="52"/>
      <text class="d-title" x="360" y="182">Tokens Studio</text>

      <!-- Arrow → pill → arrow -->
      <line class="d-arrow" x1="360" y1="208" x2="360" y2="248"/>
      <rect class="d-pill" x="248" y="248" width="224" height="28"/>
      <text class="d-pill-text" x="360" y="262">Export variables as JSON</text>
      <line class="d-arrow" x1="360" y1="276" x2="360" y2="324"/>

      <!-- 3. tokens.json -->
      <rect class="d-box" x="230" y="324" width="260" height="50"/>
      <text class="d-title" x="360" y="349">tokens.json</text>

      <!-- Arrow → pill → arrow -->
      <line class="d-arrow" x1="360" y1="374" x2="360" y2="414"/>
      <rect class="d-pill" x="272" y="414" width="176" height="28"/>
      <text class="d-pill-text" x="360" y="428">W3C DTCG format</text>
      <line class="d-arrow" x1="360" y1="442" x2="360" y2="490"/>

      <!-- 4. Style Dictionary -->
      <rect class="d-box" x="210" y="490" width="300" height="52"/>
      <text class="d-title" x="360" y="516">Style Dictionary 5</text>

      <!-- Arrow → pill → fan out -->
      <line class="d-arrow" x1="360" y1="542" x2="360" y2="582"/>
      <rect class="d-pill" x="248" y="582" width="224" height="28"/>
      <text class="d-pill-text" x="360" y="596">pnpm tokens:build</text>

      <!-- Fan out arrows from pill -->
      <line class="d-arrow" x1="290" y1="610" x2="130" y2="672"/>
      <line class="d-arrow" x1="360" y1="610" x2="360" y2="672"/>
      <line class="d-arrow" x1="430" y1="610" x2="590" y2="672"/>

      <!-- 5. Three CSS files -->
      <rect class="d-box" x="40" y="672" width="180" height="48"/>
      <text class="d-title" x="130" y="696">primitives.css</text>

      <rect class="d-box" x="270" y="672" width="180" height="48"/>
      <text class="d-title" x="360" y="696">light.css</text>

      <rect class="d-box" x="500" y="672" width="180" height="48"/>
      <text class="d-title" x="590" y="696">dark.css</text>

      <!-- Arrows straight down into @import bar -->
      <line class="d-arrow" x1="130" y1="720" x2="130" y2="756"/>
      <line class="d-arrow" x1="360" y1="720" x2="360" y2="756"/>
      <line class="d-arrow" x1="590" y1="720" x2="590" y2="756"/>

      <!-- @import pill (full width matching CSS files) -->
      <rect class="d-pill" x="40" y="756" width="640" height="28"/>
      <text class="d-pill-text" x="360" y="770">@import</text>

      <!-- Arrow from @import to tokens.css -->
      <line class="d-arrow" x1="360" y1="784" x2="360" y2="820"/>

      <!-- 6. tokens.css bar -->
      <rect class="d-box" x="40" y="820" width="640" height="52"/>
      <text class="d-title" x="360" y="840">tokens.css</text>
      <text class="d-sub" x="360" y="858">@theme inline</text>

      <!-- Arrow -->
      <line class="d-arrow" x1="360" y1="872" x2="360" y2="976"/>

      <!-- 7. Components -->
      <rect class="d-box" x="210" y="976" width="300" height="52"/>
      <text class="d-title" x="360" y="1002">React Components</text>

      <!-- Arrow -->
      <line class="d-arrow" x1="360" y1="1028" x2="360" y2="1152"/>

      <!-- 8. Storybook (KEY) -->
      <rect class="d-key" x="170" y="1152" width="380" height="72"/>
      <text class="d-title-lg" x="360" y="1180">Storybook</text>
      <text class="d-sub-key" x="360" y="1204">Visual check vs Figma</text>

      <!-- Arrow → pill → arrow -->
      <line class="d-arrow" x1="360" y1="1224" x2="360" y2="1268"/>
      <rect class="d-pill" x="280" y="1268" width="160" height="28"/>
      <text class="d-pill-text" x="360" y="1282">npm publish</text>
      <line class="d-arrow" x1="360" y1="1296" x2="360" y2="1352"/>

      <!-- 9. Production (KEY) -->
      <rect class="d-key" x="170" y="1352" width="380" height="72"/>
      <text class="d-title-lg" x="360" y="1380">Production App</text>
      <text class="d-sub-key" x="360" y="1404">import { Button } from 'ralfy-ui'</text>
    </svg>

    <div style="max-width:720px;margin:0 auto;color:#e4e4e7;">
    <h3 style="color:#fafafa;">Trade-offs</h3>

    <ul>
      <li>
        <strong style="color:#fafafa;">Tokens first, not components first.</strong> Tokens constrain decisions.
        Without them, components drift.
      </li>
      <li>
        <strong style="color:#fafafa;">Custom system, not a shadcn copy.</strong> I needed the full pipeline from
        Figma to production. Not just pre-built UI.
      </li>
      <li>
        <strong style="color:#fafafa;">CSS custom properties, not runtime CSS-in-JS.</strong> Zero runtime cost.
        No bundle overhead. Tree-shakeable exports.
      </li>
    </ul>
    </div>
    </div>

    <!-- 5. The System -->
    <h2>The System</h2>

    <h3>Token Architecture</h3>

    <p>Two tiers. Primitives hold raw color values. Semantic tokens assign roles.</p>

    <p><strong>Primitives</strong> are raw OKLch values:</p>

<pre><code class="language-css">--zinc-50: oklch(0.9851 0 0);
--zinc-900: oklch(0.2103 0.0059 285.9);
--red-600: oklch(0.5771 0.2152 27.3);</code></pre>

    <p><strong>Semantic tokens</strong> reference primitives:</p>

<pre><code class="language-css">--background-primary-default: var(--primary-900);
--foreground-default: var(--zinc-950);
--border-default: var(--zinc-200);</code></pre>

    <p>
      Components only use semantic tokens. Swap the primitives and every component
      updates. No code changes needed.
    </p>

    <img src="tokens-studio.png" alt="Tokens Studio for Figma showing token sets (Light, Dark, Primitives) with semantic color tokens (Secondary, Destructive, Success, Warning, Disabled) and number tokens (Spacing, Padding, Radius)" style="width:100%;border-radius:12px;margin:24px 0;">

    <video src="toggle-dark-mode.mp4" autoplay loop muted playsinline style="width:100%;border-radius:12px;margin:24px 0;"></video>

    <h3>CSS Distribution</h3>

    <p>
      This was the hardest problem in the sprint. After linking the package, the consuming
      app couldn't find any styles. <strong>Tailwind v4 resolves <code>@source</code> paths
      from external packages differently</strong> than local files. It skipped the
      package entirely.
    </p>

    <p>
      I tried <code>@source</code> into <code>node_modules</code>. Tried manual class safelists.
      Tried pre-built CSS bundles. None worked cleanly.
      The fix was a dedicated <code>styles.css</code> entry point that bundles
      token imports and <code>@theme inline</code> mappings together. One import. Done.
    </p>

    <p>
      If the setup is painful, nobody uses the system. This had to be simple.
    </p>

    <!-- 6. Components + Workflow -->
    <h2>Components + Workflow</h2>

    <h3>Figma to Storybook</h3>

    <img src="figma-storybook-sidebyside.png" alt="Side by side comparison: Figma Alert component variants (left) matching Storybook Alert variants (right) — Default, Destructive, Warning, Success" style="width:100%;border-radius:12px;margin:24px 0;">

    <p>Every component follows the same four steps:</p>

    <ol>
      <li>
        <strong>Read the design</strong> via Figma MCP. Pull variants, sizes, states, and tokens.
      </li>
      <li>
        <strong>Map tokens.</strong> Figma names map 1:1 to Tailwind classes.
        <code>Background/Primary/default</code> becomes <code>bg-background-primary-default</code>. No translation needed.
      </li>
      <li>
        <strong>Build.</strong> <code>cva</code> for variants. <code>React.forwardRef</code>.
        <code>cn()</code> for class merging. Every state gets a token. Keyboard nav,
        focus rings, semantic roles.
      </li>
      <li>
        <strong>Verify in Storybook.</strong> AllVariants story shows every combination.
        Autodocs page generates the props table. Visual check against the Figma source.
      </li>
    </ol>

    <h3>Storybook to Production</h3>

    <p>
      Using the system should be simple. A developer needs three lines:
    </p>

<pre><code class="language-tsx">// 1. CSS (once, in your app's entry point)
@import 'ralfy-ui/styles.css';

// 2. Use
import { Button } from 'ralfy-ui';

&lt;Button variant="primary" size="md"&gt;Save&lt;/Button&gt;</code></pre>

    <p>
      Tokens, dark mode, and styles come through automatically.
      No setup. No theme config. No extra CSS imports.
      Changes hot reload in Storybook for fast visual checks.
    </p>

    <video src="tabs-storybook-to-production.mp4" autoplay loop muted playsinline style="width:100%;border-radius:12px;margin:24px 0;"></video>

    <h3>What I Built</h3>

    <p>Five components, each following this workflow:</p>

    <table>
      <thead>
        <tr>
          <th>Component</th>
          <th>Pattern</th>
          <th>What This Proves</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td><strong>Button</strong></td>
          <td><code>asChild</code> via Radix Slot. Six variants, four sizes, loading state.</td>
          <td>Token-per-state system (default, hover, focus, disabled all tokenized)</td>
        </tr>
        <tr>
          <td><strong>Alert</strong></td>
          <td>Four semantic variants with <code>role="alert"</code>.</td>
          <td>Accessibility contract (screen readers announce status changes)</td>
        </tr>
        <tr>
          <td><strong>Sidebar</strong></td>
          <td>Compound: Brand, Menu, Item, Group, Separator. Collapsed mode.</td>
          <td>Compound architecture scales (13 sub-components compose freely)</td>
        </tr>
        <tr>
          <td><strong>Tabs</strong></td>
          <td>Radix Tabs: arrow-key nav, <code>aria-selected</code>, content panels.</td>
          <td>Platform primitives over custom JS (full keyboard nav for free)</td>
        </tr>
        <tr>
          <td><strong>TabItem</strong></td>
          <td>Standalone <code>role="tab"</code>, three sizes, icon support.</td>
          <td>Flexible composition (works inside or outside Tabs compound)</td>
        </tr>
      </tbody>
    </table>

    <video src="storybook-components.mp4" autoplay loop muted playsinline style="width:100%;border-radius:12px;margin:24px 0;"></video>

    <h3>AI-Assisted Development</h3>

    <p>
      The project includes <code>CLAUDE.md</code>. It lists every token class,
      component API, variant, and accessibility rule. It works as
      <strong>documentation-as-governance</strong>. The AI follows the system by default.
    </p>

    <p><strong>Without CLAUDE.md:</strong></p>

<pre><code class="language-tsx">&lt;button className="bg-[#1a1a2e] text-white px-4 py-2 rounded-md"&gt;
  Save
&lt;/button&gt;</code></pre>

    <p><strong>With CLAUDE.md:</strong></p>

<pre><code class="language-tsx">&lt;Button variant="default" size="md"&gt;Save&lt;/Button&gt;</code></pre>

    <p>
      The first creates a maintenance problem. Hardcoded values. No dark mode. No focus ring.
      No loading state. The second inherits all of that for free.
      This is how I built 5 components with 63 tests in 2 days.
    </p>

    <p>
      I also created a <code>figma-to-component</code> skill. It reads a Figma design via MCP,
      maps tokens, generates the component, creates Storybook stories, and runs the build.
      It turns a multi-hour manual process into a repeatable workflow.
    </p>

    <video src="claude-reads-figma.mp4" autoplay loop muted playsinline style="width:100%;border-radius:12px;margin:24px 0;"></video>

    <p>
      But it's not just one skill. I built a set of them covering the full component lifecycle.
      Each skill encodes a workflow that would otherwise live as tribal knowledge.
      Together they make the entire pipeline from Figma to production repeatable by anyone with access
      to the repo.
    </p>

    <!-- AI Skills Pipeline — Terminal style -->
    <div style="background:#0c0c0c;border-radius:12px;margin:24px 0;overflow:hidden;border:1px solid #27272a;">
      <!-- Terminal header -->
      <div style="background:#18181b;padding:10px 16px;display:flex;align-items:center;gap:8px;border-bottom:1px solid #27272a;">
        <div style="width:8px;height:8px;border-radius:50%;background:#f87171;"></div>
        <div style="width:8px;height:8px;border-radius:50%;background:#fbbf24;"></div>
        <div style="width:8px;height:8px;border-radius:50%;background:#4ade80;"></div>
        <span style="margin-left:8px;font-family:'JetBrains Mono',monospace;font-size:12px;color:#71717a;">AI Skill Pipeline</span>
      </div>
      <!-- Terminal body -->
      <div style="padding:24px;font-family:'JetBrains Mono',monospace;font-size:13px;line-height:2.2;">
        <div><span style="color:#71717a;">$</span> <span style="color:#60a5fa;">figma-to-component</span> <span style="color:#a1a1aa;">--url figma.com/design/...</span></div>
        <div style="color:#52525b;padding-left:18px;">Read design via MCP → extract tokens → map to Tailwind → generate component</div>

        <div style="margin-top:8px;"><span style="color:#71717a;">$</span> <span style="color:#60a5fa;">build-component</span> <span style="color:#a1a1aa;">Sidebar --compound</span></div>
        <div style="color:#52525b;padding-left:18px;">13 sub-components · cva + forwardRef · Storybook stories + autodocs</div>

        <div style="margin-top:8px;"><span style="color:#71717a;">$</span> <span style="color:#60a5fa;">ralfy-testing</span></div>
        <div style="color:#52525b;padding-left:18px;">Generate scenarios → happy path + edge cases → run vitest → <span style="color:#4ade80;">63 passing</span></div>

        <div style="margin-top:8px;"><span style="color:#71717a;">$</span> <span style="color:#60a5fa;">npm-publish</span></div>
        <div style="color:#52525b;padding-left:18px;">Version bump → build + typecheck → publish to npm → git tag + push</div>

        <div style="margin-top:16px;padding-top:12px;border-top:1px solid #1a1a1a;">
          <span style="color:#4ade80;">✓</span> <span style="color:#a1a1aa;">All governed by</span> <span style="color:#60a5fa;font-weight:600;">CLAUDE.md</span> <span style="color:#a1a1aa;">— tokens, APIs, accessibility rules baked in</span>
        </div>
      </div>
    </div>

    <!-- 7. Results -->
    <h2>Results</h2>

    <div class="media-placeholder video">
      <span class="type-tag">Screen Recording</span>
      <div class="label">One Token Change Updates Everything</div>
      <div class="hint">10s: Change token value &rarr; pnpm tokens:build &rarr; Storybook and production update. No code touched.</div>
    </div>

    <p>
      Built in <strong>2 days</strong>: 5 components from Figma, 63 tests, Chromatic deploy,
      single-import setup (<code>@import 'ralfy-ui/styles.css'</code>), production integration verified.
    </p>

    <p><strong>What this enables:</strong></p>

    <ul>
      <li>Change one token, every component updates. No component files touched.</li>
      <li>New developer onboarding: one file (CLAUDE.md) instead of tribal knowledge about which classes to use.</li>
      <li>Adding a component: repeatable workflow, not a from-scratch effort each time.</li>
    </ul>

    <!-- Before/After: Production CSS -->
    <div style="display:grid;grid-template-columns:1fr 1fr;border-radius:12px;overflow:hidden;border:1px solid #27272a;margin:24px 0;font-family:'JetBrains Mono',monospace;font-size:10px;line-height:1.6;background:#0c0c0c;white-space:nowrap;overflow-x:auto;">
      <!-- Before -->
      <div style="border-right:1px solid #27272a;padding:16px 20px;">
        <div style="margin-bottom:8px;"><span style="font-size:9px;color:#ef4444;background:rgba(239,68,68,0.1);padding:2px 8px;border-radius:4px;font-weight:600;letter-spacing:0.04em;">Before</span> <span style="color:#3f3f46;margin-left:6px;">globals.css</span></div>
        <div style="color:#52525b;">/* Hardcoded production colors */</div>
        <div><span style="color:#a1a1aa;">:root</span> <span style="color:#52525b;">{</span></div>
        <div style="padding-left:16px;"><span style="color:#71717a;">--sidebar-bg:</span> <span style="color:#ef4444;">oklch(0.21 0.006 286)</span><span style="color:#52525b;">;</span></div>
        <div style="padding-left:16px;"><span style="color:#71717a;">--sidebar-hover:</span> <span style="color:#ef4444;">oklch(0.27 0.005 286)</span><span style="color:#52525b;">;</span></div>
        <div style="padding-left:16px;"><span style="color:#71717a;">--btn-primary:</span> <span style="color:#ef4444;">oklch(0.21 0.006 286)</span><span style="color:#52525b;">;</span></div>
        <div style="padding-left:16px;"><span style="color:#71717a;">--btn-hover:</span> <span style="color:#ef4444;">oklch(0.21 0.006 286 / 0.8)</span><span style="color:#52525b;">;</span></div>
        <div style="padding-left:16px;"><span style="color:#71717a;">--card-border:</span> <span style="color:#ef4444;">oklch(0.87 0.007 286)</span><span style="color:#52525b;">;</span></div>
        <div style="padding-left:16px;"><span style="color:#71717a;">--text-muted:</span> <span style="color:#ef4444;">oklch(0.55 0.014 286)</span><span style="color:#52525b;">;</span></div>
        <div style="padding-left:16px;"><span style="color:#71717a;">--danger-bg:</span> <span style="color:#ef4444;">oklch(0.58 0.22 27.3)</span><span style="color:#52525b;">;</span></div>
        <div style="padding-left:16px;"><span style="color:#71717a;">--success-bg:</span> <span style="color:#ef4444;">oklch(0.60 0.13 163)</span><span style="color:#52525b;">;</span></div>
        <div><span style="color:#52525b;">}</span></div>
        <div style="color:#3f3f46;">/* 47 more hardcoded values... */</div>
      </div>
      <!-- After -->
      <div style="padding:16px 20px;">
        <div style="margin-bottom:8px;"><span style="font-size:9px;color:#4ade80;background:rgba(34,197,94,0.1);padding:2px 8px;border-radius:4px;font-weight:600;letter-spacing:0.04em;">After</span> <span style="color:#3f3f46;margin-left:6px;">globals.css</span></div>
        <div style="color:#52525b;">/* Token references from ralfy-ui */</div>
        <div><span style="color:#a1a1aa;">@import</span> '<span style="color:#4ade80;">ralfy-ui/tokens</span>'<span style="color:#52525b;">;</span></div>
        <div style="margin-top:4px;"><span style="color:#a1a1aa;">:root</span> <span style="color:#52525b;">{</span></div>
        <div style="padding-left:16px;"><span style="color:#71717a;">--sidebar-bg:</span> <span style="color:#4ade80;">var(--bg-primary-default)</span><span style="color:#52525b;">;</span></div>
        <div style="padding-left:16px;"><span style="color:#71717a;">--sidebar-hover:</span> <span style="color:#4ade80;">var(--bg-primary-default-hover)</span><span style="color:#52525b;">;</span></div>
        <div style="padding-left:16px;"><span style="color:#71717a;">--btn-primary:</span> <span style="color:#4ade80;">var(--bg-primary-default)</span><span style="color:#52525b;">;</span></div>
        <div style="padding-left:16px;"><span style="color:#71717a;">--btn-hover:</span> <span style="color:#4ade80;">var(--bg-primary-default-hover)</span><span style="color:#52525b;">;</span></div>
        <div style="padding-left:16px;"><span style="color:#71717a;">--card-border:</span> <span style="color:#4ade80;">var(--border-default)</span><span style="color:#52525b;">;</span></div>
        <div style="padding-left:16px;"><span style="color:#71717a;">--text-muted:</span> <span style="color:#4ade80;">var(--foreground-muted)</span><span style="color:#52525b;">;</span></div>
        <div style="padding-left:16px;"><span style="color:#71717a;">--danger-bg:</span> <span style="color:#4ade80;">var(--bg-destructive-default)</span><span style="color:#52525b;">;</span></div>
        <div style="padding-left:16px;"><span style="color:#71717a;">--success-bg:</span> <span style="color:#4ade80;">var(--bg-success-default)</span><span style="color:#52525b;">;</span></div>
        <div><span style="color:#52525b;">}</span></div>
      </div>
    </div>

    <p>
      A UI audit of the production app found the kind of drift that builds up without a system.
      Hardcoded oklch values, duplicate grays, hover states using raw color math.
      The token system didn't just prevent future drift. It made existing drift visible.
    </p>

    <h3>What's Next</h3>

    <p>
      The system and pipeline are in place. Next is a <strong>full UI pass across the app</strong>.
      Replace every hardcoded color with a token. Fix layout consistency.
      Make the design system the single source for all UI decisions.
      The audit already mapped what needs to change.
    </p>

    <!-- 8. Reflection -->
    <h2>Reflection</h2>

    <p>
      At scale (30+ engineers, volunteer Component Librarians), this system would need
      <strong>component-level tokens</strong> and formalized contribution guidelines.
      Chromatic visual diff approval on every PR. No component ships without
      a visual review. Storybook becomes the reference that both designers and engineers trust.
    </p>

    <h3>Five Lessons</h3>

    <ol>
      <li>
        <strong>Start with tokens, not components.</strong> Tokens constrain every decision downstream.
        Get them right first.
      </li>
      <li>
        <strong>Build what you use.</strong> Every component exists in production. Zero speculative work.
      </li>
      <li>
        <strong>The workflow matters more than the components.</strong> Anyone can build a Button. The value is in
        the pipeline that lets teams ship faster.
      </li>
      <li>
        <strong>AI needs guardrails.</strong> Without CLAUDE.md, AI generates hardcoded colors.
        With it, AI follows the system by default. The spec is the multiplier.
      </li>
      <li>
        <strong>A 2-day sprint can prove a system.</strong> The point was not to build every component.
        It was to prove the workflow end to end. Scaling is just repeating a solved process.
      </li>
    </ol>

    <div class="cta">
      <h3>Let's talk design systems</h3>
      <p>I'm open to roles where I can build and scale systems like this.</p>
      <div class="cta-links">
        <a href="https://www.linkedin.com/in/pavlelucic/" target="_blank" rel="noopener noreferrer">LinkedIn</a>
        <a href="mailto:pavle.lucic@gmail.com">Email</a>
      </div>
    </div>

    </article>
  </main>

  <!-- Lightbox -->
  <div id="lightbox" style="display:none;position:fixed;inset:0;background:rgba(0,0,0,0.9);z-index:9999;cursor:zoom-out;align-items:center;justify-content:center;padding:24px;">
    <div id="lightbox-content" style="max-width:95vw;max-height:95vh;"></div>
  </div>
  <style>
    article img, article video {
      cursor: zoom-in;
    }
    #lightbox[style*="flex"] img,
    #lightbox[style*="flex"] video {
      max-width: 95vw;
      max-height: 95vh;
      border-radius: 8px;
      object-fit: contain;
    }
  </style>
  <script>
    (function() {
      const lb = document.getElementById('lightbox');
      const lbc = document.getElementById('lightbox-content');

      document.querySelectorAll('article img, article video').forEach(el => {
        el.addEventListener('click', function(e) {
          e.stopPropagation();
          const clone = el.cloneNode(true);
          clone.style.cssText = 'max-width:95vw;max-height:95vh;border-radius:8px;object-fit:contain;cursor:zoom-out;';
          if (clone.tagName === 'VIDEO') {
            clone.controls = true;
            clone.autoplay = true;
            clone.muted = false;
          }
          lbc.innerHTML = '';
          lbc.appendChild(clone);
          lb.style.display = 'flex';
        });
      });

      lb.addEventListener('click', function() {
        const vid = lbc.querySelector('video');
        if (vid) { vid.pause(); }
        lb.style.display = 'none';
        lbc.innerHTML = '';
      });

      document.addEventListener('keydown', function(e) {
        if (e.key === 'Escape' && lb.style.display === 'flex') {
          lb.click();
        }
      });
    })();
  </script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-css.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-javascript.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-jsx.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-typescript.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-tsx.min.js"></script>
</body>
</html>
